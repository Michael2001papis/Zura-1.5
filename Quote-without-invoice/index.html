<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>הצעת מחיר ללא חשבונית</title>
  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
  background-color: #f7f7f7;
  color: #333;
  line-height: 1.6;
  padding: 20px;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  padding: 40px;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  border-bottom: 2px solid #eaeaea;
  padding-bottom: 15px;
}

.date {
  font-size: 16px;
  color: #7d7d7d;
  font-weight: 400;
}

.quote-number {
  font-size: 20px;
  color: #333;
  font-weight: bold;
}

.business-info p {
  font-size: 16px;
  color: #555;
  margin: 15px 0;
}

.business-info strong {
  font-weight: bold;
  color: #333;
}

input, textarea {
  width: 100%;
  padding: 14px;
  margin: 12px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 16px;
  background-color: #fafafa;
  color: #333;
}

input:focus, textarea:focus {
  outline: none;
  border-color: #4CAF50;
  background-color: #fff;
}

textarea {
  resize: vertical;
  min-height: 100px;
}

label {
  font-size: 16px;
  margin-bottom: 8px;
  color: #444;
}

hr {
  border: 0;
  height: 1px;
  background-color: #f0f0f0;
  margin: 30px 0;
}

.quote-info, .additional-notes, .signature, .payment-terms {
  margin-bottom: 30px;
}

h2 {
  font-size: 22px;
  color: #333;
  margin-bottom: 15px;
  font-weight: bold;
}

.buttons {
  display: flex;
  justify-content: flex-start;
  gap: 12px;
}

button {
  background-color: #4CAF50;
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  text-transform: uppercase;
}

button:hover {
  background-color: #45a049;
}

button:active {
  background-color: #388e3c;
}

button:disabled {
  background-color: #d3d3d3;
  cursor: not-allowed;
}

.signature #clientSignature {
  width: 100%;
  height: 120px;
  border: 2px dashed #ccc;
  border-radius: 8px;
  text-align: center;
  padding: 30px 0;
  margin: 10px 0;
  font-size: 16px;
  color: #777;
}

.signature input {
  background-color: #fafafa;
  padding: 14px;
  border-radius: 8px;
  margin-bottom: 10px;
  border: 1px solid #ddd;
}

.signature input:focus {
  background-color: #fff;
  border-color: #4CAF50;
}

@media (max-width: 768px) {
  .container {
    padding: 20px;
  }

  .buttons {
    flex-direction: column;
    align-items: center;
  }

  .buttons button {
    width: 100%;
    margin-bottom: 10px;
  }

  header {
    flex-direction: column;
    text-align: center;
  }

  .quote-number {
    margin-top: 10px;
  }

  .quote-info, .signature, .payment-terms {
    margin-bottom: 20px;
  }
}

  </style>
</head>
<body>

  <div class="container">
    <header>
      <div class="date" id="currentDate"></div>
      <div class="quote-number">
        <strong>מספר הצעת מחיר:</strong> <span id="quoteNumber">12345</span>
      </div>
    </header>
    
    <div class="business-info">
      <p><strong>שם העסק:</strong> מ.פ. פרויקטים</p>
      <p><strong>מספר עסק:</strong> <input type="text" id="businessNumber" placeholder="הכנס מספר עסק"></p>
      <p><strong>כתובת:</strong> גולדברג הנדבון 14, רשל"צ</p>
      <p><strong>טלפון:</strong> 054-582-0008</p>
      <p><strong>אימייל:</strong> Zurapapismedov@gmail.com</p>
    </div>
    
    <hr>
    
    <div class="quote-info">
      <label for="quoteTitle">כותרת ההצעה:</label>
      <input type="text" id="quoteTitle" placeholder="הכנס כותרת">
    
      <label for="quoteText">מלל נלווה להסבר:</label>
      <textarea id="quoteText" rows="3" placeholder="הכנס מלל נלווה"></textarea>
    
      <label for="recipient">לכבוד:</label>
      <input type="text" id="recipient" placeholder="שם מקבל ההצעה">
    
      <label for="recipientEmail">כתובת המייל:</label>
      <input type="email" id="recipientEmail" placeholder="הכנס כתובת מייל">
    </div>
    
    <div class="additional-notes">
      <label for="notes">הערות נוספות:</label>
      <textarea id="notes" rows="3" placeholder="הכנס הערות במידת הצורך"></textarea>
    </div>
    
    <div class="buttons">
      <button id="shareQuoteButton">שתף הצעת מחיר</button>
    </div>
    
    <div class="signature">
      <label for="closing">בברכה,</label>
      <input type="text" id="closing" placeholder="הכנס משפט סיום">
      
      <label for="clientPhone">טלפון:</label>
      <input type="text" id="clientPhone" placeholder="הכנס טלפון">
      
      <label for="clientName">שם לקוח:</label>
      <input type="text" id="clientName" placeholder="הכנס שם לקוח">
      
      <label for="clientSignature">חתימת הלקוח:</label>
      <div id="clientSignature" style="border:1px solid #ccc; padding: 10px;">
        <!-- כאן תוכל להוסיף פתרון לחתימה, לדוג' באמצעות canvas -->
        <p>הלקוח חותם כאן</p>
      </div>
    </div>
    
    <div class="buttons">
      <button id="shareSignatureButton">שתף פרטי לקוח וחתימה</button>
    </div>
    
    <div class="payment-terms">
      <h2>תנאי התשלום</h2>
      <p>לפני תחילת העבודה: <input type="text" id="paymentBefore" placeholder="20% או ערך אחר"></p>
      <p>עם סיום העבודה: <input type="text" id="paymentAfter" placeholder="80% או ערך אחר"></p>
      <p>אופן התשלום: <input type="text" id="paymentMethod" placeholder="מזומן, העברה בנקאית, צ'ק וכו'"></p>
      <p>ביטול העבודה: <input type="text" id="paymentCancellation" placeholder="תנאים לביטול"></p>
      <p>תוקף ההצעה עד: <input type="text" id="paymentExpiration" placeholder="תאריך"></p>
      <p>חתימה: <input type="text" id="paymentSignature" placeholder="חתימה"></p>
    </div>
    
    <div class="buttons">
      <button id="sharePaymentButton">שתף תנאי תשלום</button>
    </div>
    
    <div class="buttons">
      <button id="shareButton">שתף</button>
      <button id="printButton">הדפס</button>
      <button id="homeButton">עמוד הבית</button>
      <button id="resetButton">איפוס</button>
    </div>
  </div>

  <script>
    // // עדכון תאריך נוכחי
    // document.getElementById("currentDate").textContent = new Date().toLocaleDateString("he-IL");
    // // כאן ניתן להוסיף לוגיקה לעדכון מספר הצעת מחיר לפי הצורך

    // // ניהול כפתורי ניווט/פעולות
    // document.getElementById("printButton").addEventListener("click", () => window.print());
    // document.getElementById("homeButton").addEventListener("click", () => window.location.href = "home.html");
    // document.getElementById("resetButton").addEventListener("click", () => location.reload());
    // document.getElementById("shareButton").addEventListener("click", () => {
    //   const recipientEmail = document.getElementById("recipientEmail").value; // קבלת כתובת המייל מהמשתמש
    //   const subject = "הצעת מחיר"; // כותרת המייל
    //   const body = `
    //     שלום,
        
    //     אני שולח לך את הצעת המחיר המבוקשת. אנא עיין בה ומידע נוסף יכול להימסר בהמשך.
        
    //     מספר הצעת מחיר: ${document.getElementById("quoteNumber").textContent}
    //     שם העסק: מ.פ. פרויקטים
    //     כתובת: גולדברג הנדבון 14, רשל"צ
    //     טלפון: 054-582-0008
    //     אימייל: Zurapapismedov@gmail.com

    //     ${document.getElementById("quoteText").value}  // המלל הנלווה להסבר
    //   `;
      
    //   // פתיחת Gmail עם כתובת נמען, כותרת וגוף הודעה
    //   window.location.href = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    // });
    
    // עדכון תאריך נוכחי
  document.getElementById("currentDate").textContent = new Date().toLocaleDateString("he-IL");

// עדכון מספר הצעת מחיר
document.getElementById("quoteNumber").textContent = generateQuoteNumber();

// פונקציה להפקת מספר הצעת מחיר דינמי
function generateQuoteNumber() {
  const randomNum = Math.floor(Math.random() * 10000) + 10000;  // הפקת מספר אקראי בן 5 ספרות
  return randomNum;
}

// אפשרות לעדכון מספר העסק (באמצעות קלט מהמשתמש)
document.getElementById("businessNumber").addEventListener("input", (event) => {
  console.log("מספר העסק עודכן ל: " + event.target.value);
});

    // כפתור "שתף הצעת מחיר"
  document.getElementById("shareQuoteButton").addEventListener("click", () => {
    const quoteTitle = document.getElementById("quoteTitle").value;
    const quoteText = document.getElementById("quoteText").value;
    const recipient = document.getElementById("recipient").value;
    const recipientEmail = document.getElementById("recipientEmail").value;
    const notes = document.getElementById("notes").value;

    // יצירת גוף המייל
    const subject = "הצעת מחיר"; // כותרת המייל
    const body = `
      שלום ${recipient},

      אני שולח לך את הצעת המחיר עם פרטי ההסבר:

      כותרת ההצעה: ${quoteTitle}
      מלל נלווה להסבר: ${quoteText}

      הערות נוספות: ${notes}

      תודה,
      [שם שלך]
    `;
    
    // פתיחת Gmail עם כתובת נמען, כותרת וגוף הודעה
    window.location.href = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  });

    // כפתור "שתף פרטי לקוח וחתימה"
  document.getElementById("shareSignatureButton").addEventListener("click", () => {
    const closingMessage = document.getElementById("closing").value;
    const clientPhone = document.getElementById("clientPhone").value;
    const clientName = document.getElementById("clientName").value;
    const clientSignature = document.getElementById("clientSignature").innerText;  // כאן תוכל לשלב פתרון לחתימה
    
    const recipientEmail = document.getElementById("recipientEmail").value; // קבלת כתובת המייל מהמשתמש
    const subject = "פרטי הלקוח והחתימה"; // כותרת המייל
    const body = `
      שלום,
      
      אני שולח לך את פרטי הלקוח והחתימה:

      בברכה: ${closingMessage}
      טלפון: ${clientPhone}
      שם לקוח: ${clientName}
      חתימת הלקוח: ${clientSignature}
    `;
    
    // פתיחת Gmail עם כתובת נמען, כותרת וגוף הודעה
    window.location.href = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  });

    // כפתור "שתף תנאי תשלום"
  document.getElementById("sharePaymentButton").addEventListener("click", () => {
    const beforeWork = document.getElementById("paymentBefore").value;
    const afterWork = document.getElementById("paymentAfter").value;
    const paymentMethod = document.getElementById("paymentMethod").value;
    const cancellationPolicy = document.getElementById("paymentCancellation").value;
    const expirationDate = document.getElementById("paymentExpiration").value;
    const clientSignature = document.getElementById("paymentSignature").value;
    
    const recipientEmail = document.getElementById("recipientEmail").value; // קבלת כתובת המייל מהמשתמש
    const subject = "תנאי תשלום"; // כותרת המייל
    const body = `
      שלום,
      
      אני שולח לך את תנאי התשלום עבור ההצעה:

      לפני תחילת העבודה: ${beforeWork}
      עם סיום העבודה: ${afterWork}
      אופן התשלום: ${paymentMethod}
      ביטול העבודה: ${cancellationPolicy}
      תוקף ההצעה עד: ${expirationDate}
      חתימה: ${clientSignature}
    `;
    
    // פתיחת Gmail עם כתובת נמען, כותרת וגוף הודעה
    window.location.href = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  });
    
    // // כפתור "שתף"
  document.getElementById("shareButton").addEventListener("click", () => {
    const recipientEmail = document.getElementById("recipientEmail").value; // קבלת כתובת המייל מהמשתמש
    const subject = "הצעת מחיר"; // כותרת המייל
    const body = `
      שלום,
      
      אני שולח לך את הצעת המחיר המבוקשת. אנא עיין בה ומידע נוסף יכול להימסר בהמשך.
      
      מספר הצעת מחיר: ${document.getElementById("quoteNumber").textContent}
      שם העסק: מ.פ. פרויקטים
      כתובת: גולדברג הנדבון 14, רשל"צ
      טלפון: 054-582-0008
      אימייל: Zurapapismedov@gmail.com

      ${document.getElementById("quoteText").value}  // המלל הנלווה להסבר
    `;
    
    // פתיחת Gmail עם כתובת נמען, כותרת וגוף הודעה
    window.location.href = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  });

  // כפתור "הדפס"
  document.getElementById("printButton").addEventListener("click", () => {
    window.print();  // מבצע הדפסה של הדף הנוכחי
  });

  // כפתור "עמוד הבית"
  document.getElementById("homeButton").addEventListener("click", () => {
    window.location.href = "home.html";  // מעביר לדף הבית
  });

  // כפתור "איפוס"
  document.getElementById("resetButton").addEventListener("click", () => {
    location.reload();  // טוען מחדש את הדף (מאפס את כל הקלטים והנתונים)
  });
  </script>
</body>
</html>
